# Электронная библиотека - Android приложение

Мобильное приложение для электронной библиотеки с использованием Android (Java), архитектуры MVVM и Supabase в качестве backend.

## Описание проекта

Приложение предоставляет пользователям доступ к электронным книгам с функциями:
- Регистрация и авторизация
- Просмотр каталога книг по жанрам
- Поиск книг по названию, автору, жанру
- Управление избранным
- Чтение книг в электронном формате
- Административная панель для управления каталогом

## Технологии

- **Язык**: Java
- **Минимальная версия Android**: 7.0 (API 24)
- **Архитектура**: MVVM (Model-View-ViewModel)
- **База данных**: Supabase (PostgreSQL)
- **Локальное кэширование**: Room Database
- **Сетевые запросы**: Supabase Java Client
- **UI**: Material Design Components

## Настройка проекта

### 1. Настройка Supabase

1. Создайте проект на [Supabase](https://supabase.com)
2. Выполните SQL скрипт `supabase_schema.sql` в SQL Editor вашего проекта
3. Получите URL и Anon Key из настроек проекта

### 2. Настройка приложения

1. Откройте файл `app/src/main/java/com/electroniclibrary/data/supabase/SupabaseConfig.java`
2. Замените значения:
   ```java
   public static final String SUPABASE_URL = "https://your-project.supabase.co";
   public static final String SUPABASE_ANON_KEY = "your-anon-key-here";
   ```

### 3. Сборка проекта

1. Откройте проект в Android Studio
2. Синхронизируйте Gradle файлы
3. Соберите проект (Build > Make Project)
4. Запустите на эмуляторе или устройстве

## Структура проекта

```
app/
├── src/main/java/com/electroniclibrary/
│   ├── data/
│   │   ├── model/          # Модели данных
│   │   ├── repository/     # Репозитории для работы с данными
│   │   ├── room/           # Room Database
│   │   └── supabase/       # Supabase клиент
│   └── ui/
│       ├── adapter/        # Адаптеры для RecyclerView
│       ├── auth/           # Экран авторизации
│       ├── book/           # Экран книги и чтения
│       ├── catalog/        # Каталог книг
│       ├── favorites/      # Избранное
│       ├── home/           # Главная страница
│       ├── profile/        # Профиль пользователя
│       ├── admin/          # Административная панель
│       └── viewmodel/      # ViewModels
└── src/main/res/
    ├── layout/            # Layout файлы
    ├── values/            # Ресурсы (strings, colors, themes)
    └── menu/              # Меню
```

## Функциональность

### Для всех пользователей (Гости)
- Просмотр каталога книг
- Поиск книг по названию, автору, жанру
- Просмотр информации о книгах

### Для зарегистрированных пользователей (Клиенты)
- Все функции гостя
- Чтение книг без ограничений
- Добавление/удаление книг из избранного
- Просмотр профиля

### Для администраторов
- Все функции клиента
- Управление каталогом книг (добавление, редактирование, удаление)
- Управление пользователями и их ролями
- Управление авторами и жанрами

## Роли пользователей

- **guest** - Гость (только просмотр)
- **client** - Клиент (полный доступ к чтению)
- **admin** - Администратор (полный доступ ко всем функциям)

## Зависимости

Основные зависимости указаны в `app/build.gradle`:
- AndroidX Libraries (AppCompat, Material, Navigation)
- Room Database
- Supabase Java Client
- Glide (загрузка изображений)
- Gson (JSON парсинг)

## Безопасность

- Row Level Security (RLS) включен для всех таблиц
- Политики безопасности настроены для разных ролей
- Защита от SQL-инъекций через Supabase
- Хранение паролей через Supabase Auth

## Разработка

### Добавление новой функции

1. Создайте модель данных в `data/model/`
2. Добавьте методы в соответствующий Repository
3. Создайте ViewModel для бизнес-логики
4. Создайте UI компоненты (Activity/Fragment)
5. Добавьте layout файлы

### Тестирование

Для тестирования используйте:
- Unit тесты для ViewModels и Repositories
- Instrumented тесты для UI компонентов

## Лицензия

Этот проект создан в учебных целях.

